(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,54236,e=>{"use strict";let s="playmaker_predictions",a=()=>{let e=localStorage.getItem(s);return e?JSON.parse(e):[]};e.s(["deletePrediction",0,e=>{let i=a().filter(s=>s.id!==e);localStorage.setItem(s,JSON.stringify(i))},"getLockedPredictions",0,()=>a().filter(e=>"locked"===e.status),"getPendingPredictions",0,()=>a().filter(e=>"pending"===e.status),"getPrediction",0,(e,s)=>a().find(a=>a.eventId===e&&a.betType===s&&"pending"===a.status),"hasPrediction",0,(e,s)=>a().some(a=>a.eventId===e&&a.betType===s&&("pending"===a.status||"locked"===a.status)),"lockPrediction",0,e=>{let i;i=a().map(s=>s.id===e?{...s,status:"locked",...{lockedAt:new Date().toISOString()}}:s),localStorage.setItem(s,JSON.stringify(i))},"savePrediction",0,e=>{let i=a(),t={...e,id:`pred_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,timestamp:new Date().toISOString(),status:"pending"};return i.push(t),localStorage.setItem(s,JSON.stringify(i)),t}])},97721,e=>{"use strict";var s=e.i(32900),a=e.i(87098),i=e.i(86448),t=e.i(81451),n=e.i(54236);e.s(["default",0,function(){let e=(0,i.useRouter)(),l=(0,t.createClient)(),[c,d]=(0,a.useState)(null),[r,o]=(0,a.useState)([]),[m,h]=(0,a.useState)("all"),[x,j]=(0,a.useState)(null);(0,a.useEffect)(()=>((async()=>{let{data:{user:s},error:a}=await l.auth.getUser();a||!s?e.push("/login"):d(s)})(),N(),window.addEventListener("focus",N),()=>window.removeEventListener("focus",N)),[e,l]);let N=()=>{let e=(0,n.getPendingPredictions)();o([...(0,n.getLockedPredictions)(),...e])},p=r.filter(e=>"pending"===m?"pending"===e.status:"locked"!==m||"locked"===e.status),u=r.filter(e=>"pending"===e.status).length,v=r.filter(e=>"locked"===e.status).length,[k]=(0,a.useState)({username:c?.email?.split("@")[0]||"PlayMaker",elo:1847,wins:42,losses:18,currentStreak:5,streakType:"win",rank:"Diamond",tier:"III"}),g=k.wins+k.losses,b=g>0?(k.wins/g*100).toFixed(1):0,f=e=>({Bronze:"#CD7F32",Silver:"#C0C0C0",Gold:"#FFD700",Platinum:"#E5E4E2",Diamond:"#3B82F6",Master:"#A3FF12",Grandmaster:"#FF006E"})[e]||"#3B82F6";return(0,s.jsxs)("div",{className:"dashboard-page",children:[(0,s.jsx)("div",{className:"stats-header",children:(0,s.jsxs)("div",{className:"stats-header-container",children:[(0,s.jsx)("div",{style:{display:"flex",justifyContent:"space-between",width:"100%",marginBottom:"1rem",alignItems:"center"},children:(0,s.jsxs)("div",{className:"user-welcome",style:{color:"#fff",fontSize:"1.2rem"},children:["Welcome, ",(0,s.jsx)("span",{style:{color:"#3B82F6",fontWeight:"bold"},children:c?.user_metadata?.username||c?.email})]})}),(0,s.jsxs)("div",{className:"elo-display",children:[(0,s.jsx)("div",{className:"elo-label",children:"ELO Rating"}),(0,s.jsx)("div",{className:"elo-value",children:k.elo}),(0,s.jsx)("div",{className:"elo-change",children:"+24 today"})]}),(0,s.jsxs)("div",{className:"stats-grid",children:[(0,s.jsxs)("div",{className:"stat-card",children:[(0,s.jsx)("div",{className:"stat-icon",children:"ðŸ“Š"}),(0,s.jsxs)("div",{className:"stat-content",children:[(0,s.jsx)("div",{className:"stat-label",children:"Win/Loss"}),(0,s.jsxs)("div",{className:"stat-value",children:[k.wins,"W - ",k.losses,"L"]}),(0,s.jsxs)("div",{className:"stat-subtext",children:[b,"% Win Rate"]})]})]}),(0,s.jsxs)("div",{className:"stat-card",children:[(0,s.jsx)("div",{className:"stat-icon",children:"win"===k.streakType?"ðŸ”¥":"â„ï¸"}),(0,s.jsxs)("div",{className:"stat-content",children:[(0,s.jsx)("div",{className:"stat-label",children:"Current Streak"}),(0,s.jsxs)("div",{className:`stat-value ${"win"===k.streakType?"streak-win":"streak-loss"}`,children:[k.currentStreak," ","win"===k.streakType?"Wins":"Losses"]}),(0,s.jsx)("div",{className:"stat-subtext",children:"win"===k.streakType?"Keep it going!":"Bounce back!"})]})]}),(0,s.jsx)("div",{className:"stat-card rank-card",children:(0,s.jsxs)("div",{className:"rank-badge",style:{borderColor:f(k.rank)},children:[(0,s.jsx)("div",{className:"rank-icon",style:{color:f(k.rank)},children:"ðŸ‘‘"}),(0,s.jsxs)("div",{className:"rank-content",children:[(0,s.jsx)("div",{className:"rank-name",style:{color:f(k.rank)},children:k.rank}),(0,s.jsx)("div",{className:"rank-tier",children:k.tier})]})]})})]})]})}),(0,s.jsxs)("div",{className:"dashboard-content",children:[(0,s.jsxs)("div",{className:"dashboard-grid",children:[(0,s.jsxs)("div",{className:"dashboard-section active-picks-section",children:[(0,s.jsxs)("div",{className:"section-header",children:[(0,s.jsx)("h2",{className:"section-title",children:"Active Picks"}),(0,s.jsxs)("span",{className:"section-badge",children:[u," pending, ",v," locked"]})]}),(0,s.jsxs)("div",{className:"filter-tabs",children:[(0,s.jsxs)("button",{className:`filter-tab ${"all"===m?"active":""}`,onClick:()=>h("all"),children:["All (",r.length,")"]}),(0,s.jsxs)("button",{className:`filter-tab ${"pending"===m?"active":""}`,onClick:()=>h("pending"),children:["Pending (",u,")"]}),(0,s.jsxs)("button",{className:`filter-tab ${"locked"===m?"active":""}`,onClick:()=>h("locked"),children:["Locked (",v,")"]})]}),0===p.length?(0,s.jsxs)("div",{className:"empty-state",children:[(0,s.jsx)("div",{className:"empty-icon",children:"ðŸ€"}),(0,s.jsxs)("h3",{children:["No ","all"===m?"Active":m.charAt(0).toUpperCase()+m.slice(1)," Predictions"]}),(0,s.jsx)("p",{children:"Head to Predictions page to make your picks!"}),(0,s.jsx)("button",{className:"nav-button",onClick:()=>e.push("/predictions"),children:"Make Predictions"})]}):(0,s.jsx)("div",{className:"predictions-grid",children:p.map(e=>{let a=new Date(e.commenceTime),i=a.toDateString()===new Date().toDateString(),t="locked"===e.status;return(0,s.jsxs)("div",{className:`prediction-card ${t?"locked":""}`,children:[(0,s.jsx)("button",{className:"delete-btn",onClick:()=>{var s;return s=e.id,void(t?window.confirm("This is a locked prediction. Deleting will forfeit potential ELO gains. Are you sure?")&&((0,n.deletePrediction)(s),N()):((0,n.deletePrediction)(s),N()))},title:t?"Delete locked prediction":"Cancel prediction",children:"âœ•"}),(0,s.jsx)("div",{className:"game-header",children:(0,s.jsxs)("div",{className:"game-time",children:[(0,s.jsx)("span",{className:"date",children:a.toLocaleDateString()}),(0,s.jsx)("span",{className:"time",children:a.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),i&&(0,s.jsx)("span",{className:"today-badge",children:"TODAY"})]})}),(0,s.jsxs)("div",{className:"teams-section",children:[(0,s.jsxs)("div",{className:"team",children:[(0,s.jsx)("span",{className:"team-name",children:e.awayTeam}),(0,s.jsx)("span",{className:"team-label",children:"AWAY"})]}),(0,s.jsx)("div",{className:"vs-divider",children:"@"}),(0,s.jsxs)("div",{className:"team",children:[(0,s.jsx)("span",{className:"team-name",children:e.homeTeam}),(0,s.jsx)("span",{className:"team-label",children:"HOME"})]})]}),(0,s.jsxs)("div",{className:"bet-details",children:[(0,s.jsx)("div",{className:`bet-type-badge ${e.betType}`,children:"moneyline"===e.betType?"Moneyline":"spread"===e.betType?"Spread":"Total Points"}),(0,s.jsxs)("div",{className:"your-pick",children:[(0,s.jsx)("span",{className:"pick-label",children:"Your Pick:"}),(0,s.jsxs)("span",{className:"pick-value",children:[e.selection,e.point&&` (${e.point>0?"+":""}${e.point})`," ","@ ",e.odds>0?"+":"",e.odds]})]})]}),(0,s.jsx)("div",{className:"prediction-footer",children:t?(0,s.jsx)("span",{className:"status-badge locked",children:"ðŸ”’ LOCKED"}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:"status-badge pending",children:"PENDING"}),(0,s.jsx)("button",{className:"lock-btn",onClick:()=>{j(e.id)},children:"ðŸ”“ Lock Pick"})]})})]},e.id)})})]}),(0,s.jsxs)("div",{className:"dashboard-section quick-actions-section",children:[(0,s.jsx)("div",{className:"section-header",children:(0,s.jsx)("h2",{className:"section-title",children:"Quick Actions"})}),(0,s.jsx)("div",{className:"section-placeholder-box",children:(0,s.jsx)("p",{children:"Quick Actions content coming soon..."})})]})]}),(0,s.jsxs)("div",{className:"dashboard-section friends-section",children:[(0,s.jsxs)("div",{className:"section-header",children:[(0,s.jsx)("h2",{className:"section-title",children:"Friends Leaderboard"}),(0,s.jsx)("span",{className:"section-badge",children:"12 friends"})]}),(0,s.jsx)("div",{className:"section-placeholder-box",children:(0,s.jsx)("p",{children:"Friends Leaderboard content coming soon..."})})]}),(0,s.jsxs)("div",{className:"dashboard-section recent-results-section",children:[(0,s.jsx)("div",{className:"section-header",children:(0,s.jsx)("h2",{className:"section-title",children:"Recent Results"})}),(0,s.jsx)("div",{className:"section-placeholder-box",children:(0,s.jsx)("p",{children:"Recent Results content coming soon..."})})]})]}),x&&(0,s.jsx)("div",{className:"lock-confirmation-overlay",children:(0,s.jsxs)("div",{className:"lock-confirmation-modal",children:[(0,s.jsx)("h3",{children:"ðŸ”’ Lock This Prediction?"}),(0,s.jsx)("p",{children:"You won't be able to change or delete it."}),(0,s.jsx)("p",{className:"confirm-note",children:"This pick will count towards your ELO rating!"}),(0,s.jsxs)("div",{className:"confirm-buttons",children:[(0,s.jsx)("button",{className:"confirm-lock-btn",onClick:()=>{x&&((0,n.lockPrediction)(x),N(),j(null))},children:"Confirm Lock"}),(0,s.jsx)("button",{className:"cancel-lock-btn",onClick:()=>{j(null)},children:"Cancel"})]})]})})]})}])}]);