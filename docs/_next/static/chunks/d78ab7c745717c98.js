(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,54236,e=>{"use strict";let s="playmaker_predictions",a=()=>{let e=localStorage.getItem(s);return e?JSON.parse(e):[]};e.s(["deletePrediction",0,e=>{let t=a().filter(s=>s.id!==e);localStorage.setItem(s,JSON.stringify(t))},"getLockedPredictions",0,()=>a().filter(e=>"locked"===e.status),"getPendingPredictions",0,()=>a().filter(e=>"pending"===e.status),"getPrediction",0,(e,s)=>a().find(a=>a.eventId===e&&a.betType===s&&"pending"===a.status),"hasPrediction",0,(e,s)=>a().some(a=>a.eventId===e&&a.betType===s&&("pending"===a.status||"locked"===a.status)),"lockPrediction",0,e=>{let t;t=a().map(s=>s.id===e?{...s,status:"locked",...{lockedAt:new Date().toISOString()}}:s),localStorage.setItem(s,JSON.stringify(t))},"savePrediction",0,e=>{let t=a(),i={...e,id:`pred_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,timestamp:new Date().toISOString(),status:"pending"};return t.push(i),localStorage.setItem(s,JSON.stringify(t)),i}])},24884,e=>{"use strict";var s=e.i(32900),a=e.i(87098);let t=e.i(7384).default.env.NEXT_PUBLIC_ODDS_API_KEY,i={async getNBAGames(){try{let e=`https://api.the-odds-api.com/v4/sports/basketball_nba/odds?apiKey=${t}&regions=us&markets=h2h,spreads,totals&oddsFormat=american&dateFormat=iso`,s=await fetch(e);if(!s.ok)throw Error(`API Error: ${s.status} ${s.statusText}`);let a=s.headers.get("x-requests-remaining"),i=s.headers.get("x-requests-used");console.log(`ðŸ“Š API Quota - Remaining: ${a}, Used: ${i}`);let n=await s.json();return console.log(`ðŸ€ NBA Games fetched: ${n.length}`),n}catch(e){throw console.error("Error fetching NBA games:",e),e}}};var n=e.i(54236);e.s(["default",0,function(){let[e,t]=(0,a.useState)([]),[r,l]=(0,a.useState)(!0),[d,c]=(0,a.useState)(null),[o,m]=(0,a.useState)(null),[h,p]=(0,a.useState)([]),[g,u]=(0,a.useState)(!1),[N,x]=(0,a.useState)("");(0,a.useEffect)(()=>{!async function(){try{l(!0),c(null);let e=await i.getNBAGames();t(e),l(!1)}catch(e){console.error("Error fetching games:",e),c(e.message),l(!1)}}()},[]),(0,a.useEffect)(()=>{let e=()=>{p([...(0,n.getPendingPredictions)(),...(0,n.getLockedPredictions)()])};return e(),window.addEventListener("focus",e),()=>window.removeEventListener("focus",e)},[]);let j=e=>{x(e),u(!0),setTimeout(()=>u(!1),3e3)},v=(e,s,a,t,i=null)=>{if(new Date(e.commence_time)<=new Date)return void j("âŒ Cannot predict on games that have already started!");if((0,n.hasPrediction)(e.id,s)){let a=(0,n.getPrediction)(e.id,s);a&&"locked"===a.status?j("ðŸ”’ You already have a LOCKED prediction for this game!"):j("âš ï¸ You already have a prediction for this bet type!");return}m({eventId:e.id,homeTeam:e.home_team,awayTeam:e.away_team,betType:s,selection:a,odds:t,point:i,commenceTime:e.commence_time})},k=(e,s,a)=>!!o&&o.eventId===e&&o.betType===s&&o.selection===a,b=(e,s)=>h.some(a=>a.eventId===e&&a.betType===s),f=(e,s)=>{if(!e)return null;let a=e.markets.find(e=>e.key===s);return a?a.outcomes:null};return r?(0,s.jsx)("div",{className:"predictions-page",children:(0,s.jsxs)("div",{className:"loading-container",children:[(0,s.jsx)("div",{className:"loading-spinner"}),(0,s.jsx)("h2",{children:"Loading NBA Games..."})]})}):d?(0,s.jsx)("div",{className:"predictions-page",children:(0,s.jsxs)("div",{className:"error-container",children:[(0,s.jsx)("h1",{children:"âš ï¸ Error Loading Games"}),(0,s.jsx)("p",{className:"error-message",children:d}),(0,s.jsx)("button",{onClick:()=>window.location.reload(),className:"retry-btn",children:"Retry"})]})}):0===e.length?(0,s.jsx)("div",{className:"predictions-page",children:(0,s.jsxs)("div",{className:"no-games-container",children:[(0,s.jsx)("h1",{children:"ðŸ€ No NBA Games Available"}),(0,s.jsx)("p",{children:"Check back later for upcoming games!"})]})}):(0,s.jsxs)("div",{className:"predictions-page",children:[(0,s.jsxs)("div",{className:"predictions-header",children:[(0,s.jsx)("h1",{className:"page-title",children:"ðŸ€ NBA Predictions"}),(0,s.jsxs)("div",{className:"header-info",children:[(0,s.jsxs)("p",{className:"games-count",children:[e.length," Games Available"]}),h.length>0&&(0,s.jsxs)("span",{className:"predictions-badge",children:[h.length," Active Pick",1!==h.length?"s":""]})]})]}),o&&(0,s.jsxs)("div",{className:"confirmation-buttons",children:[(0,s.jsx)("div",{className:"confirmation-info",children:(0,s.jsxs)("p",{children:[(0,s.jsxs)("strong",{children:["moneyline"===o.betType?"Moneyline":"spread"===o.betType?"Spread":"Total",":"]})," ",o.selection,o.point&&` (${o.point>0?"+":""}${o.point})`," ","@ ",o.odds>0?"+":"",o.odds]})}),(0,s.jsx)("button",{className:"confirm-btn",onClick:()=>{if(o)try{let e=(0,n.savePrediction)(o);p([...h,e]),j("âœ… Prediction saved successfully!"),m(null)}catch(e){j("âŒ Failed to save prediction"),console.error(e)}},children:"âœ“ Confirm Pick"}),(0,s.jsx)("button",{className:"clear-btn",onClick:()=>{m(null)},children:"âœ• Clear"})]}),g&&(0,s.jsx)("div",{className:"toast-notification",children:N}),(0,s.jsx)("div",{className:"games-container",children:e.map(e=>{let a=e.bookmakers&&0!==e.bookmakers.length?e.bookmakers.find(e=>"draftkings"===e.key)||e.bookmakers[0]:null,t=f(a,"h2h"),i=f(a,"spreads"),n=f(a,"totals"),r=new Date(e.commence_time),l=r.toDateString()===new Date().toDateString(),d=new Date(e.commence_time)<=new Date;return(0,s.jsxs)("div",{className:`game-card ${d?"game-started":""}`,children:[(0,s.jsxs)("div",{className:"game-header",children:[(0,s.jsxs)("div",{className:"game-time",children:[(0,s.jsx)("span",{className:"date",children:r.toLocaleDateString()}),(0,s.jsx)("span",{className:"time",children:r.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),l&&(0,s.jsx)("span",{className:"today-badge",children:"TODAY"}),d&&(0,s.jsx)("span",{className:"started-badge",children:"STARTED"})]}),a&&(0,s.jsx)("div",{className:"bookmaker-badge",children:a.title})]}),(0,s.jsxs)("div",{className:"teams-section",children:[(0,s.jsxs)("div",{className:"team",children:[(0,s.jsx)("span",{className:"team-name",children:e.away_team}),(0,s.jsx)("span",{className:"team-label",children:"AWAY"})]}),(0,s.jsx)("div",{className:"vs-divider",children:"@"}),(0,s.jsxs)("div",{className:"team",children:[(0,s.jsx)("span",{className:"team-name",children:e.home_team}),(0,s.jsx)("span",{className:"team-label",children:"HOME"})]})]}),(0,s.jsxs)("div",{className:"markets-section",children:[t&&(0,s.jsxs)("div",{className:"market-box",children:[(0,s.jsx)("h4",{className:"market-title",children:"Moneyline"}),(0,s.jsx)("div",{className:"odds-grid",children:t.map(a=>{let t=k(e.id,"moneyline",a.name),i=b(e.id,"moneyline"),n=d||i&&!t;return(0,s.jsxs)("button",{className:`odds-btn ${t?"selected":""} ${i?"locked":""} ${n?"disabled":""}`,onClick:()=>v(e,"moneyline",a.name,a.price),disabled:n,children:[(0,s.jsx)("span",{className:"odds-team",children:a.name}),(0,s.jsxs)("span",{className:"odds-value",children:[a.price>0?"+":"",a.price]}),i&&(0,s.jsx)("span",{className:"checkmark",children:"âœ“"})]},a.name)})})]}),i&&(0,s.jsxs)("div",{className:"market-box",children:[(0,s.jsx)("h4",{className:"market-title",children:"Spread"}),(0,s.jsx)("div",{className:"odds-grid",children:i.map(a=>{let t=k(e.id,"spread",a.name),i=b(e.id,"spread"),n=d||i&&!t;return(0,s.jsxs)("button",{className:`odds-btn ${t?"selected":""} ${i?"locked":""} ${n?"disabled":""}`,onClick:()=>v(e,"spread",a.name,a.price,a.point),disabled:n,children:[(0,s.jsx)("span",{className:"odds-team",children:a.name}),(0,s.jsxs)("span",{className:"odds-value",children:[a.point>0?"+":"",a.point," (",a.price>0?"+":"",a.price,")"]}),i&&(0,s.jsx)("span",{className:"checkmark",children:"âœ“"})]},a.name)})})]}),n&&(0,s.jsxs)("div",{className:"market-box",children:[(0,s.jsx)("h4",{className:"market-title",children:"Total Points"}),(0,s.jsx)("div",{className:"odds-grid",children:n.map(a=>{let t=k(e.id,"total",a.name),i=b(e.id,"total"),n=d||i&&!t;return(0,s.jsxs)("button",{className:`odds-btn ${t?"selected":""} ${i?"locked":""} ${n?"disabled":""}`,onClick:()=>v(e,"total",a.name,a.price,a.point),disabled:n,children:[(0,s.jsx)("span",{className:"odds-team",children:a.name}),(0,s.jsxs)("span",{className:"odds-value",children:[a.point," (",a.price>0?"+":"",a.price,")"]}),i&&(0,s.jsx)("span",{className:"checkmark",children:"âœ“"})]},a.name)})})]})]})]},e.id)})})]})}],24884)}]);