(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,26822,e=>{"use strict";var t=e.i(58142);async function r(){let e=(0,t.createClient)(),{data:{user:r}}=await e.auth.getUser();if(!r)return null;let{data:i,error:a}=await e.from("profiles").select("*").eq("id",r.id).maybeSingle();return a?(console.error("Error fetching profile:",a),null):i}async function i(e=null){let r=(0,t.createClient)(),{data:{user:a}}=await r.auth.getUser();if(!a)return{error:"Not authenticated"};let{data:n,error:c}=await r.from("profiles").insert({id:a.id,username:e||a.email?.split("@")[0],elo:1e3,wins:0,losses:0}).select().single();return c?(console.error("Error creating profile:",c),{error:c}):{data:n}}async function a(){let e=await r();if(e)return e;let{data:t,error:a}=await i();return a?null:t}async function n(e){let r=(0,t.createClient)(),{data:{user:i}}=await r.auth.getUser();if(!i)return{error:"Not authenticated"};let{data:a,error:n}=await r.from("profiles").update(e).eq("id",i.id).select().single();return n?(console.error("Error updating profile:",n),{error:n}):{data:a}}async function c(e){let r=(0,t.createClient)(),{data:{user:i}}=await r.auth.getUser();if(!i)return{error:"Not authenticated"};let{data:a,error:n}=await r.from("picks").insert({user_id:i.id,game_id:e.gameId,home_team:e.homeTeam,away_team:e.awayTeam,pick_type:e.pickType,pick_value:e.pickValue,odds:e.odds,game_date:e.gameDate,is_locked:!1,result:"pending"}).select().single();return n?(console.error("Error saving pick:",n),{error:n}):{data:a}}async function s(){let e=(0,t.createClient)(),{data:{user:r}}=await e.auth.getUser();if(!r)return[];let{data:i,error:a}=await e.from("picks").select("*").eq("user_id",r.id).order("created_at",{ascending:!1});return a?(console.error("Error fetching picks:",a),[]):i}async function l(){let e=(0,t.createClient)(),{data:{user:r}}=await e.auth.getUser();if(!r)return[];let{data:i,error:a}=await e.from("picks").select("*").eq("user_id",r.id).eq("result","pending").order("created_at",{ascending:!1});return a?(console.error("Error fetching pending picks:",a),[]):i}async function o(){let e=(0,t.createClient)(),{data:{user:r}}=await e.auth.getUser();if(!r)return[];let{data:i,error:a}=await e.from("picks").select("*").eq("user_id",r.id).eq("is_locked",!0).order("created_at",{ascending:!1});return a?(console.error("Error fetching locked picks:",a),[]):i}async function u(e){let r=(0,t.createClient)(),{data:{user:i}}=await r.auth.getUser();if(!i)return{error:"Not authenticated"};let{data:a,error:n}=await r.from("picks").update({is_locked:!0}).eq("id",e).eq("user_id",i.id).select().single();return n?(console.error("Error locking pick:",n),{error:n}):{data:a}}async function d(e){let r=(0,t.createClient)(),{data:{user:i}}=await r.auth.getUser();if(!i)return{error:"Not authenticated"};let{error:a}=await r.from("picks").delete().eq("id",e).eq("user_id",i.id).eq("is_locked",!1);return a?(console.error("Error deleting pick:",a),{error:a}):{success:!0}}async function f(e,r){let i=(0,t.createClient)(),{data:{user:a}}=await i.auth.getUser();if(!a)return!1;let{data:n,error:c}=await i.from("picks").select("id").eq("user_id",a.id).eq("game_id",e).eq("pick_type",r).single();return!c&&!!n}async function g(e,r){let i=(0,t.createClient)(),{data:{user:a}}=await i.auth.getUser();if(!a)return null;let{data:n,error:c}=await i.from("picks").select("*").eq("user_id",a.id).eq("game_id",e).eq("pick_type",r).single();return c?null:n}e.s(["deletePick",()=>d,"getLockedPicks",()=>o,"getOrCreateProfile",()=>a,"getPendingPicks",()=>l,"getPick",()=>g,"getUserPicks",()=>s,"getUserProfile",()=>r,"hasPick",()=>f,"lockPick",()=>u,"savePick",()=>c,"updateUserProfile",()=>n])},98658,e=>{"use strict";var t=e.i(56731),r=e.i(28317),i=e.i(49651),a=e.i(58142),n=e.i(26822);function c(){let e=(0,i.useRouter)(),c=(0,a.createClient)();return(0,r.useEffect)(()=>{(async()=>{let{searchParams:t}=new URL(window.location.href),r=t.get("code"),i=t.get("next")||"/dashboard";if(r){let{error:t}=await c.auth.exchangeCodeForSession(r);t?(console.error("Auth error:",t),e.push("/login?error=auth_callback_error")):(await (0,n.getOrCreateProfile)(),e.push(i))}else{let{data:{session:t}}=await c.auth.getSession();t?(await (0,n.getOrCreateProfile)(),e.push(i)):e.push("/login")}})()},[e,c]),(0,t.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",background:"#0A1128",color:"#fff"},children:(0,t.jsxs)("div",{style:{textAlign:"center"},children:[(0,t.jsx)("h2",{children:"Verifying Login..."}),(0,t.jsx)("p",{children:"Please wait while we redirect you."})]})})}e.s(["default",()=>c])}]);